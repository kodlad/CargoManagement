<Window x:Class="CargoManagement.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:conv="clr-namespace:CargoManagement.Converters"
        Title="Система управления грузоперевозками"
        Height="600" Width="1000">

    <DockPanel Background="{StaticResource BackgroundBrush}">

        <!-- == Шапка == -->
        <Border DockPanel.Dock="Top"
                Height="48"
                Background="{StaticResource PrimaryBrush}">
            <TextBlock Text="Система управления грузоперевозками"
                       VerticalAlignment="Center"
                       Foreground="White"
                       FontSize="16"
                       Margin="16,0"/>
        </Border>

        <!-- == Боковое меню == -->
        <StackPanel DockPanel.Dock="Left"
                    Width="200"
                    Background="{StaticResource PrimaryDarkBrush}">
            <Rectangle Height="16" Fill="Transparent"/>
            <Button x:Name="BtnTrips"
                    Style="{StaticResource MenuButtonStyle}"
                    Content="📋  Поездки"
                    Click="TripsButton_Click"/>
            <Button x:Name="BtnDrivers"
                    Style="{StaticResource MenuButtonStyle}"
                    Content="👤  Водители"
                    Click="DriversButton_Click"/>
            <Button x:Name="BtnVehicles"
                    Style="{StaticResource MenuButtonStyle}"
                    Content="🚚  Техника"
                    Click="VehiclesButton_Click"/>
            <Button x:Name="BtnSettings"
                    Style="{StaticResource MenuButtonStyle}"
                    Content="⚙  Настройки"
                    Click="SettingsButton_Click"/>
        </StackPanel>

        <!-- == Основной контент: три раздела внутри отдельных Grid-контейнеров == -->
        <Grid x:Name="ContentRoot" Margin="16">
            <!-- По умолчанию все скрыты, кроме TripsSection -->

            <!-- ==== Раздел «Поездки» ==== -->
            <Grid x:Name="TripsSection" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- для заголовка+кнопок -->
                    <RowDefinition Height="*"/>
                    <!-- для DataGrid -->
                </Grid.RowDefinitions>

                <!-- Заголовок + CRUD-кнопки для «Поездки» -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="Поездки"
                               FontSize="20" FontWeight="Bold"
                               VerticalAlignment="Center"/>
                    <Rectangle Width="16" Fill="Transparent"/>

                    <Button Width="32" Height="32" Margin="0,0,8,0"
                            ToolTip="Добавить поездку"
                            Click="AddButton_Click">
                        <TextBlock Text="+" FontSize="16"
                                   VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                    <Button Width="32" Height="32" Margin="0,0,8,0"
                            ToolTip="Редактировать поездку"
                            Click="EditButton_Click">
                        <TextBlock Text="✎" FontSize="14"
                                   VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                    <Button Width="32" Height="32"
                            ToolTip="Удалить поездку"
                            Click="DeleteButton_Click">
                        <TextBlock Text="🗑" FontSize="14"
                                   VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                </StackPanel>

                <!-- DataGrid поездок -->
                <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                    <DataGrid x:Name="TripsDataGrid"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              HeadersVisibility="Column"
                              RowHeight="32"
                              GridLinesVisibility="None">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID"
                                                Binding="{Binding Id}"
                                                Width="50"/>

                            <DataGridTextColumn Header="Пункт отправления"
                                                Binding="{Binding Origin}"
                                                Width="*"/>

                            <DataGridTextColumn Header="Пункт назначения"
                                                Binding="{Binding Destination}"
                                                Width="*"/>

                            <DataGridTextColumn Header="Дата"
                                                Binding="{Binding TripDate, StringFormat=\{0:dd.MM.yyyy\}}"
                                                Width="150"/>

                            <!-- Новые колонки для водителя и техники -->
                            <DataGridTextColumn Header="Водитель"
                                                Binding="{Binding DriverName}"
                                                Width="150"/>
                            <DataGridTextColumn Header="Техника"
                                                Binding="{Binding VehiclePlate}"
                                                Width="120"/>

                            <DataGridTemplateColumn Header="Статус" Width="100">
                                <DataGridTemplateColumn.CellTemplate>
                                    <DataTemplate>
                                        <Border Background="{Binding Status, Converter={StaticResource StatusToBrushConverter}}"
                                                CornerRadius="12" Padding="4,2"
                                                HorizontalAlignment="Center">
                                            <TextBlock Text="{Binding RussianStatus}"
                                                       FontSize="12" Foreground="White"/>
                                        </Border>
                                    </DataTemplate>
                                </DataGridTemplateColumn.CellTemplate>
                            </DataGridTemplateColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Border>
            </Grid>


            <!-- ==== Раздел «Водители» ==== -->
            <Grid x:Name="DriversSection" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Заголовок + CRUD-кнопки для «Водители» -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="Водители"
                               FontSize="20" FontWeight="Bold"
                               VerticalAlignment="Center"/>
                    <Rectangle Width="16" Fill="Transparent"/>

                    <Button Width="32" Height="32" Margin="0,0,8,0"
                            ToolTip="Добавить водителя"
                            Click="Drivers_Add_Click">
                        <TextBlock Text="+" FontSize="16"
                                   VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                    <Button Width="32" Height="32" Margin="0,0,8,0"
                            ToolTip="Редактировать водителя"
                            Click="Drivers_Edit_Click">
                        <TextBlock Text="✎" FontSize="14"
                                   VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                    <Button Width="32" Height="32"
                            ToolTip="Удалить водителя"
                            Click="Drivers_Delete_Click">
                        <TextBlock Text="🗑" FontSize="14"
                                   VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                </StackPanel>

                <!-- DataGrid водителей -->
                <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                    <DataGrid x:Name="DriversDataGrid"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              HeadersVisibility="Column"
                              RowHeight="32"
                              GridLinesVisibility="None">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID"
                                                Binding="{Binding Id}"
                                                Width="50"/>
                            <DataGridTextColumn Header="ФИО"
                                                Binding="{Binding Name}"
                                                Width="*"/>
                            <DataGridTextColumn Header="ВУ №"
                                                Binding="{Binding LicenseNumber}"
                                                Width="150"/>
                            <DataGridTextColumn Header="Телефон"
                                                Binding="{Binding Phone}"
                                                Width="150"/>
                            <DataGridTextColumn Header="Поездок"
                                                Binding="{Binding TripCount}"
                                                Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Border>
            </Grid>


            <!-- ==== Раздел «Техника» ==== -->
            <Grid x:Name="VehiclesSection" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Заголовок + CRUD-кнопки для «Техника» -->
                <StackPanel Grid.Row="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock Text="Техника"
                               FontSize="20" FontWeight="Bold"
                               VerticalAlignment="Center"/>
                    <Rectangle Width="16" Fill="Transparent"/>

                    <Button Width="32" Height="32" Margin="0,0,8,0"
                            ToolTip="Добавить технику"
                            Click="Vehicles_Add_Click">
                        <TextBlock Text="+" FontSize="16"
                                   VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                    <Button Width="32" Height="32" Margin="0,0,8,0"
                            ToolTip="Редактировать технику"
                            Click="Vehicles_Edit_Click">
                        <TextBlock Text="✎" FontSize="14"
                                   VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                    <Button Width="32" Height="32"
                            ToolTip="Удалить технику"
                            Click="Vehicles_Delete_Click">
                        <TextBlock Text="🗑" FontSize="14"
                                   VerticalAlignment="Center" HorizontalAlignment="Center"/>
                    </Button>
                </StackPanel>

                <!-- DataGrid техники -->
                <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                    <DataGrid x:Name="VehiclesDataGrid"
                              AutoGenerateColumns="False"
                              CanUserAddRows="False"
                              HeadersVisibility="Column"
                              RowHeight="32"
                              GridLinesVisibility="None">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID"
                                                Binding="{Binding Id}"
                                                Width="50"/>
                            <DataGridTextColumn Header="Госномер"
                                                Binding="{Binding PlateNumber}"
                                                Width="120"/>
                            <DataGridTextColumn Header="Модель"
                                                Binding="{Binding Model}"
                                                Width="*"/>
                            <DataGridTextColumn Header="Грузоп., кг"
                                                Binding="{Binding Capacity}"
                                                Width="100"/>
                            <DataGridTextColumn Header="Поездок"
                                                Binding="{Binding TripCount}"
                                                Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Border>
            </Grid>


            <!-- ==== Раздел «Настройки» (пока пусто или можете дополнять) ==== -->
            <Grid x:Name="SettingsSection" Visibility="Collapsed">
                <!-- Здесь позже можно добавить, что угодно: опции, пути, параметры... -->
                <TextBlock Text="Здесь раздел настройки"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           FontSize="16"
                           Foreground="Gray"/>
            </Grid>
        </Grid>

    </DockPanel>
</Window>
